# Tetris

纯练手
一个用C语言实现，可以在Shell终端运行的俄罗斯方块。GUI部分依靠vt100实现。

实现了以下基础功能
+ 控制功能
  - 左右移动
  - 旋转
  - 下降
  - 快速下降
+ 消行
+ 计分及变速

由于只是作为C语言的练手项目，一些体验上的细节并没有打磨，包括但不限于
+ 过渡动画
+ 更优雅的交互
+ 更好看的UI
 - - -
## 实现思路

虽然C语言是面向过程的语言，但实现过程中还是尽可能采用面向对象的方式来实现。本身代码量不大，具体实现可以参考代码，这里只大体介绍一下。

### 方块的实现

方块的实现及绘制、擦除方法都写在block.c及其头文件中。block.c文件对其他文件完全无感，仅仅通过Move_Block中的相关信息，在指定坐标打印或擦除自身图形。

### 键盘控制

keyboard.c文件也对其他文件无感，通过注册回调函数，把监听的键盘事件回调给控制器。控制器可以初始化好监听事件后，调用API开启键盘监听。

### 绘图

绘图相关的实现放在了canvas.c文件中，它承担方块移动、旋转前的碰撞检查以及后续的消行、刷新工作。

main.c文件更多的是作为控制器，整合以上资源。它提供了游戏的入口和出口，完成了信号量和计时器的初始化工作.